A Bitcoin block is limited in the number of transactions it contains. Thus, when a sudden load of transactions is formed by Bitcoin users that wish to transfer money, the miners choose the transactions with the highest commissions. As a result, Bitcoin users must pay more, similarly to an auction, to have their transaction committed within a reasonable amount of time.

In this work, I demonstrate a dynamic number of transactions within a block. The number of transactions that will be acceptable in the next block is agreed by a network consensus. Specifically, when the network agrees that the current number of pending transactions is high, more transactions on the next mined block would be accepted by the network. This new consensus mechanism is beneficial both to the miners, that are allowed to include more transactions, hereby increasing their incomes from commissions, as well is it for Bitcoin users, that have their transactions promptly committed without having to "bribe" the miners.

Since exchanging every known pending transaction throughout the entire network is an expensive operation, mainly due to the size of the transactions (e.g., its signature or addresses), the network is only required to exchange pending transaction IDs. Each node syncs transaction IDs with other nodes it knows (final.ts:line 598), and acknowledges the minimal and maximal number of pending transactions learned from its neighbors (final.ts:line 283). Using the max number learned, every node computes the number of transactions it will consent to if appeared in the next block (final.ts:line 262). If a node wishes to mine the next block, it will include the minimal number of transactions the network will consent to (final.ts:line 393), as every other node will consent according to the max number of pending transactions it learned.

Since a byzantine node might counterfeit transaction IDs in order to force other nodes to accept a block it mined having more transactions than the network would agree on, when a new block is validated, signatures are validated to ensure the transactions are legitimate (final.ts:line 185). Moreover, nodes gradually sync the full transaction values from their neighbors to ensure no one is forcing a larger consensus (final.ts:line 344).

In the demonstration (final.sh), 3 nodes participate in the network. Node 2 knows node 1 and node 3, and they know node 2, but node 1 doesn't know node 3 (and vice versa). The nodes reach a consensus of 3 transactions when the network is not loaded. Later, the network becomes loaded, as nodes 1 and 2 know 12 full transactions and node 3 knows 22 full transactions. Since node 3 is aware that node 2 knows only 12 transactions, it includes only 10 (see final.ts:line 262) transactions in the new block it mines. Then, consensus is achieved by the other two nodes. Finally, full transaction sync is performed, after which all nodes are fully synced and no byzantine nodes are found. However, such a synchronization is not mandatory between every new mined block, as demonstrated.  